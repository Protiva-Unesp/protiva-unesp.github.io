{"componentChunkName":"component---src-pages-aprender-07-disjoint-set-union-find-markdown-remark-frontmatter-slug-tsx","path":"/aprender/07-disjoint-set-union-find/resolucao-nivel-2-2016/","result":{"data":{"markdownRemark":{"frontmatter":{"title":"OBI - Modalidade Programação (Nível 1) - Fase 2 - 2016","description":"Tacos de Bilhar","author":"Dayna Prado"},"html":"<h3 id=\"tacos-de-bilhar\" style=\"position:relative;\"><a href=\"#tacos-de-bilhar\" aria-label=\"tacos de bilhar permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tacos de Bilhar</h3>\n<p>Jogos de bilhar, em que tacos são usados para arremessar uma bola contra outras em uma mesa, têm muitas variantes, como sinuca, mata-mata, bilhar francês e outras. O Sr. Jorge é um renomado artesão que fabrica tacos de bilhar sob encomenda.</p>\n<p>Cada vez que um cliente pede um taco de um dado comprimento, o Sr. Jorge primeiro verifica se ele tem um taco com esse comprimento no estoque.</p>\n<ul>\n<li><strong>Se tem:</strong> ele envia o taco para o cliente.</li>\n<li><strong>Se não tem:</strong> ele faz duas cópias do taco, envia uma para o cliente e guarda a outra no estoque.</li>\n</ul>\n<p>Assim, ele nunca tem no estoque mais do que um taco com um determinado comprimento. O estoque do Sr. Jorge está muito grande, e ele tem perdido muito tempo procurando por tacos. Ele pensa em usar um sistema computadorizado para manter o seu estoque de tacos.</p>\n<p><strong>Objetivo</strong></p>\n<p>Dadas as consultas ao estoque, calcule o número total de tacos fabricados, supondo que inicialmente o estoque esteja vazio.</p>\n<p><strong>Entrada</strong></p>\n<p>A primeira linha da entrada contém um inteiro C que indica o número de consultas ao estoque. A segunda linha contém C números inteiros, indicando as consultas ao estoque. Cada valor de consulta indica o comprimento de um taco desejado.</p>\n<p><strong>Saída</strong></p>\n<p>Seu programa deverá imprimir um único número, o número de tacos fabricados.</p>\n<p><strong>Restrições</strong></p>\n<ul>\n<li>1 ≤ C ≤ 10^5</li>\n<li>1 ≤ comprimento dos tacos ≤ 10^6</li>\n</ul>\n<p><strong>Informações sobre a pontuação</strong></p>\n<p>Em um conjunto de casos de teste equivalente a 40 pontos, C ≤ 1000.</p>\n<p><strong>Exemplos</strong></p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">Entrada</th>\n<th align=\"left\">Saída</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">4<br>80 100 80 50</td>\n<td align=\"left\">6</td>\n</tr>\n<tr>\n<td align=\"left\">1<br>1000</td>\n<td align=\"left\">2</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"solução\" style=\"position:relative;\"><a href=\"#solu%C3%A7%C3%A3o\" aria-label=\"solução permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Solução</h3>\n<p>Para resolver este problema de forma eficiente, utilizamos a estrutura de dados <strong>Set (Conjunto)</strong>. O enunciado garante que o estoque nunca terá mais de um taco do mesmo comprimento, funcionando como um interruptor: ou tem (1), ou não tem (0).</p>\n<p>A lógica aplicada é:</p>\n<ol>\n<li>Lemos o comprimento solicitado.</li>\n<li>Verificamos se esse comprimento existe no Set de estoque.</li>\n<li><strong>Se existe:</strong> O Sr. Jorge usa o item do estoque. Removemos o item do Set (estoque volta a zero para esse tamanho).</li>\n<li><strong>Se não existe:</strong> O Sr. Jorge precisa fabricar. Ele faz 2 unidades. Somamos 2 ao total de tacos fabricados e adicionamos o tamanho ao Set (pois uma unidade fica guardada).</li>\n</ol>\n<p>Essa abordagem garante complexidade O(C), o que é ideal dado que C pode chegar a 10^5.</p>\n<p><strong>Código em JavaScript:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> input <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/dev/stdin'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'utf8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> lines <span class=\"token operator\">=</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">trim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\s+</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// lines[0] eh o numero de consultas C</span>\n<span class=\"token keyword\">var</span> <span class=\"token constant\">C</span> <span class=\"token operator\">=</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>lines<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Usamos um Set para representar o estoque</span>\n<span class=\"token comment\">// O Set armazena apenas valores unicos</span>\n<span class=\"token keyword\">var</span> estoque <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> fabricados <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Percorre todas as consultas (comecando do indice 1)</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> <span class=\"token constant\">C</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> pedido <span class=\"token operator\">=</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>lines<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>estoque<span class=\"token punctuation\">.</span><span class=\"token function\">has</span><span class=\"token punctuation\">(</span>pedido<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Se tem no estoque, vende (remove do estoque)</span>\n        estoque<span class=\"token punctuation\">.</span><span class=\"token function\">delete</span><span class=\"token punctuation\">(</span>pedido<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Se nao tem, fabrica 2</span>\n        fabricados <span class=\"token operator\">+=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// Vende um e guarda o outro no estoque</span>\n        estoque<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>pedido<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>fabricados<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>"}},"pageContext":{"id":"daf6fdf9-4edf-56eb-8bb6-adbaded702dd","frontmatter__slug":"resolucao-nivel-2-2016","__params":{"frontmatter__slug":"resolucao-nivel-2-2016"}}},"staticQueryHashes":["3159585216"],"slicesMap":{}}