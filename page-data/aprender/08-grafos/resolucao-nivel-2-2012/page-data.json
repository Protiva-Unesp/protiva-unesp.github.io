{"componentChunkName":"component---src-pages-aprender-08-grafos-markdown-remark-frontmatter-slug-tsx","path":"/aprender/08-grafos/resolucao-nivel-2-2012/","result":{"data":{"markdownRemark":{"frontmatter":{"title":"OBI - Modalidade Programação (Nível 1) - Fase 2 - 2012","description":"Guerra por Território (Soma de Prefixos e Sufixos)","author":"Vinicius Lima"},"html":"<h3 id=\"guerra-por-território\" style=\"position:relative;\"><a href=\"#guerra-por-territ%C3%B3rio\" aria-label=\"guerra por território permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Guerra por Território</h3>\n<p>Os territórios de Tombólia do Oeste e Tombólia do Leste são divididos em $N$ seções sequenciais, com tamanhos $a_1, a_2, \\dots, a_N$.</p>\n<p>O objetivo é encontrar um <strong>ponto de corte $k$</strong> tal que a soma dos tamanhos das seções à esquerda (incluindo $k$) seja exatamente igual à soma das seções à direita (após $k$).</p>\n<p>A condição matemática é:\n$$\\sum_{i=1}^{k} a_i = \\sum_{j=k+1}^{N} a_j$$</p>\n<p>É garantido que tal divisão sempre existe.</p>\n<p><strong>Entrada</strong></p>\n<p>A primeira linha contém um inteiro $N$. A segunda linha contém $N$ inteiros $a_i$, indicando os tamanhos das seções.</p>\n<p><strong>Saída</strong></p>\n<p>Imprima um único inteiro $k$, indicando a seção (índice baseado em 1) onde acontece a divisão.</p>\n<p><strong>Restrições</strong></p>\n<ul>\n<li>$1 \\leq N \\leq 10^5$</li>\n<li>$1 \\leq a_i \\leq 100$</li>\n</ul>\n<p><strong>Exemplos</strong></p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">Entrada</th>\n<th align=\"left\">Saída</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">4<br>5 3 2 10</td>\n<td align=\"left\">3</td>\n</tr>\n<tr>\n<td align=\"left\">9<br>2 8 2 8 4 4 4 4 4</td>\n<td align=\"left\">4</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3 id=\"solução\" style=\"position:relative;\"><a href=\"#solu%C3%A7%C3%A3o\" aria-label=\"solução permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Solução</h3>\n<p>A solução para este problema é extremamente eficiente, utilizando apenas dois percursos lineares (ou um único, se otimizado) do vetor, resultando em complexidade $O(N)$.</p>\n<h4 id=\"algoritmo-soma-de-prefixos\" style=\"position:relative;\"><a href=\"#algoritmo-soma-de-prefixos\" aria-label=\"algoritmo soma de prefixos permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Algoritmo (Soma de Prefixos)</h4>\n<p>A chave é que, se o território deve ser dividido em duas partes iguais, a soma de cada parte deve ser exatamente a metade da soma total do território.</p>\n<ol>\n<li><strong>Calcular a Soma Total:</strong> Percorremos o vetor e somamos todos os tamanhos das seções para obter a $\\text{Soma}_{\\text{Total}}$.</li>\n<li><strong>Definir o Alvo:</strong> O lado esquerdo (Tombólia do Oeste) deve ter uma soma de $\\text{Alvo} = \\frac{\\text{Soma}_{\\text{Total}}}{2}$.</li>\n<li><strong>Encontrar o Corte:</strong> Percorremos o vetor novamente (ou continuamos no mesmo <em>loop</em> se a soma total for calculada separadamente), acumulando uma $\\text{Soma}<em>{\\text{Atual}}$ a cada iteração. No momento em que $\\text{Soma}</em>{\\text{Atual}}$ for igual ao $\\text{Alvo}$, encontramos o ponto de corte $k$.</li>\n</ol>\n<p><strong>Código em JavaScript (com Fast I/O):</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// --- FAST I/O para leitura eficiente de grandes inputs ---</span>\n<span class=\"token keyword\">const</span> buffer <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">readFileSync</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> bufferIdx <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">readInt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> res <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>bufferIdx <span class=\"token operator\">&lt;</span> buffer<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&amp;&amp;</span> buffer<span class=\"token punctuation\">[</span>bufferIdx<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;=</span> <span class=\"token number\">32</span><span class=\"token punctuation\">)</span> bufferIdx<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>bufferIdx <span class=\"token operator\">>=</span> buffer<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>bufferIdx <span class=\"token operator\">&lt;</span> buffer<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&amp;&amp;</span> buffer<span class=\"token punctuation\">[</span>bufferIdx<span class=\"token punctuation\">]</span> <span class=\"token operator\">></span> <span class=\"token number\">32</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        res <span class=\"token operator\">=</span> res <span class=\"token operator\">*</span> <span class=\"token number\">10</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>buffer<span class=\"token punctuation\">[</span>bufferIdx<span class=\"token operator\">++</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> <span class=\"token number\">48</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">solve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> valN <span class=\"token operator\">=</span> <span class=\"token function\">readInt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>valN <span class=\"token operator\">===</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> <span class=\"token constant\">N</span> <span class=\"token operator\">=</span> valN<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Armazena as secoes e calcula o total simultaneamente</span>\n    <span class=\"token keyword\">const</span> sections <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Int32Array</span><span class=\"token punctuation\">(</span><span class=\"token constant\">N</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> totalSum <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token constant\">N</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> val <span class=\"token operator\">=</span> <span class=\"token function\">readInt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        sections<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> val<span class=\"token punctuation\">;</span>\n        totalSum <span class=\"token operator\">+=</span> val<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// O alvo eh metade do total (Garantido ser um numero inteiro, pois a divisao existe)</span>\n    <span class=\"token keyword\">const</span> target <span class=\"token operator\">=</span> totalSum <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> currentSum <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Percorre para encontrar o ponto de corte (k)</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token constant\">N</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        currentSum <span class=\"token operator\">+=</span> sections<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>currentSum <span class=\"token operator\">===</span> target<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// O enunciado pede a secao k (indice baseado em 1)</span>\n            <span class=\"token comment\">// Como i comeca em 0, a resposta eh i + 1</span>\n            console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">solve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>"}},"pageContext":{"id":"1e1244c3-f9a8-5eac-bf54-5eca2ff03551","frontmatter__slug":"resolucao-nivel-2-2012","__params":{"frontmatter__slug":"resolucao-nivel-2-2012"}}},"staticQueryHashes":["3159585216"],"slicesMap":{}}